import{_ as N}from"./PaginationMixin-11bee913.js";import{A,N as M}from"./AppLayout-02188963.js";import{P as U}from"./PageHeader-990117fa.js";import{d as k,L as D,a as v,_ as P,o as a,c as i,b as e,w as c,g as h,t as r,F as m,r as _,v as y,h as b,f as g,i as w,l as d,m as $,e as l,k as H}from"./app-5a739dd9.js";import{V as F}from"./ValidationErrors-bf47aed9.js";import{S as E}from"./SpinnerLoader-b538aed9.js";import{P as j}from"./PostCard-ca60f657.js";import{R as G}from"./RecordNotFound-d1886f2e.js";import{B as R}from"./Breadcrums-4d6b2de8.js";import{C as z}from"./CardSkeleton-160dac99.js";import"./image-3ef26202.js";const q=k({components:{ValidationErrors:F,SpinnerLoader:E,Link:D},props:{is_redirect:{type:Boolean,default:!0},home:{type:Boolean,default:!1}},created(){this.getBlogCategories(),this.getTags(),this.$emit("getPosts",this.form)},data(){return{form:{blog_category:route().params.blog_category??"",search:route().params.search??"",tag:route().params.tag??""},isLoading:!1,tags:[],blog_categories:[]}},methods:{getBlogCategories(){v.get(this.route("getApiBlogCategories")).then(s=>{this.blog_categories=s.data.data})},getTags(){v.get(this.route("getApiTags")).then(s=>{this.tags=s.data.data})},submit(){this.isLoading=!0,new Promise((t,n)=>{setTimeout(()=>{this.$inertia.replace(this.route("blogs.listing"),{data:this.form,replace:!0,preserveScroll:!0}),this.$emit("getPosts",this.form),t()},1e3)}).then(t=>{}).catch(t=>{}).finally(()=>{this.isLoading=!1})}}}),I={key:0},J={class:"row"},K={class:"col-md-4"},O={value:"",selected:""},Q=["value"],W={class:"col-md-4"},X=["placeholder"],Y={class:"col-md-4"},Z={class:"d-flex"},x={value:"",selected:""},ss=["value"],es=["href"],os=e("i",{class:"bi bi-search"},null,-1),ts=[os],as={key:1,class:"section pt-4 pb-5"},is={class:"container"},rs={class:"row pt-2"},ns={class:"col-12"},ls={class:"col-12"},ds={class:"row flex-column"},cs={class:"col-md-4 w-100 mb-4"},ms={value:"",selected:""},_s=["value"],ps={class:"col-md-4 w-100 mb-4"},hs=["placeholder"],gs={class:"col-md-4 w-100 mb-4"},us={value:"",selected:""},fs=["value"],bs={class:"d-grid"},vs=["href","disabled"];function ys(s,t,n,C,L,S){const u=d("SpinnerLoader");return s.home?(a(),i("div",I,[e("div",J,[e("div",K,[c(e("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.form.blog_category=o),class:"form-select border-0 py-3","aria-label":"Select Category"},[e("option",O,r(s.__("select"))+" "+r(s.__("category")),1),(a(!0),i(m,null,_(s.blog_categories,o=>(a(),i("option",{key:o.id,value:o.slug},r(o.name),9,Q))),128))],512),[[h,s.form.blog_category]])]),e("div",W,[c(e("input",{type:"text",class:"form-control border-0 py-3","onUpdate:modelValue":t[1]||(t[1]=o=>s.form.search=o),id:"findPostSearchHome",placeholder:s.__("search")},null,8,X),[[y,s.form.search]])]),e("div",Y,[e("div",Z,[c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=o=>s.form.tag=o),class:"form-select border-0 py-3","aria-label":"Select Tag"},[e("option",x,r(s.__("select"))+" "+r(s.__("tag")),1),(a(!0),i(m,null,_(s.tags,o=>(a(),i("option",{key:o.id,value:o.slug},r(o.name),9,ss))),128))],512),[[h,s.form.tag]]),e("button",{href:s.route("blogs.listing"),onClick:t[3]||(t[3]=(...o)=>s.submit&&s.submit(...o)),class:"btn btn-primary ms-3",type:"submit"},ts,8,es)])])])])):(a(),i("div",as,[e("div",is,[e("div",rs,[e("div",ns,[e("h2",null,r(s.__("find"))+" "+r(s.__n("blog")),1)]),e("div",ls,[e("div",ds,[e("div",cs,[c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.form.blog_category=o),class:"form-select","aria-label":"Select Category"},[e("option",ms,r(s.__("select"))+" "+r(s.__("category")),1),(a(!0),i(m,null,_(s.blog_categories,o=>(a(),i("option",{key:o.id,value:o.slug},r(o.name),9,_s))),128))],512),[[h,s.form.blog_category]])]),e("div",ps,[c(e("input",{type:"text","onUpdate:modelValue":t[5]||(t[5]=o=>s.form.search=o),class:"form-control",id:"findPostSearchListing",placeholder:s.__("search")},null,8,hs),[[y,s.form.search]])]),e("div",gs,[c(e("select",{"onUpdate:modelValue":t[6]||(t[6]=o=>s.form.tag=o),class:"form-select","aria-label":"Select Tag"},[e("option",us,r(s.__("select"))+" "+r(s.__("tag")),1),(a(!0),i(m,null,_(s.tags,o=>(a(),i("option",{key:o.id,value:o.slug},r(o.name),9,fs))),128))],512),[[h,s.form.tag]])]),e("div",bs,[e("button",{href:s.route("blogs.listing"),onClick:t[7]||(t[7]=(...o)=>s.submit&&s.submit(...o)),class:"btn btn-primary",type:"submit",disabled:s.isLoading},[s.isLoading?(a(),b(u,{key:0})):g("",!0),w(" "+r(s.__("Search")),1)],8,vs)])])])])])]))}const $s=P(q,[["render",ys]]),ks=k({mixins:[N],components:{AppLayout:A,Navbar:M,PageHeader:U,FindPostBar:$s,PostCard:j,RecordNotFound:G,Breadcrums:R,CardSkeleton:z},created(){},data(){return{posts:{},breadcrums:[{id:1,name:"Home",link:"/"},{id:2,name:"Blogs",link:""}]}},methods:{async getPaginatedData(s=!1){await this.getPosts(s)},getPosts(s){axios.post(this.route("getApiPosts"),this.filter).then(t=>{const n=t.data.data;s?this.posts.data=this.posts.data.concat(n.data):this.posts.data=n.data,this.posts.links=n.links,this.posts.meta=n.meta,this.fetching=!1})}}}),Ps={class:"py-5 border-bottom border-dark"},ws={class:"container"},Cs={class:"row"},Ls={class:"col-12 text-center"},Ss={key:0},Bs=["innerHTML"],Ts={key:1},Vs={key:2},Ns=e("h2",{class:"fs-2 text-center"},[e("span",{class:"fw-normal"},"Explore | "),e("span",{class:"fw-bold"},"All Blogs")],-1),As=[Ns],Ms={class:"section py-0"},Us={class:"container"},Ds={class:"row"},Hs={class:"col-md-3"},Fs={class:"search-side-bar"},Es={class:"col-md-9 border-start border-dark"},js={class:"row mx-0 mt-4"},Gs={key:0,class:"col-12"},Rs={class:"row media-skeleton-cards"},zs={class:"col-md-6 mb-4"},qs={class:"col-md-6 mb-4"},Is={class:"col-md-6 mb-4"},Js={class:"col-md-6 mb-4"},Ks={key:1,class:"col-12"},Os={key:0,class:"row"},Qs={key:1,class:"row"},Ws={class:"col-12 text-center mb-3"},Xs={key:2,class:"row my-4"},Ys={class:"col-md-12 d-flex align-items-center justify-content-center"},Zs=["disabled"];function xs(s,t,n,C,L,S){const u=d("breadcrums"),o=d("find-post-bar"),p=d("card-skeleton"),B=d("post-card"),T=d("record-not-found"),V=d("app-layout");return a(),b(V,{title:"My Profile"},{header:$(()=>[]),default:$(()=>[e("div",Ps,[e("div",ws,[e("div",Cs,[e("div",Ls,[s.getPageContentType("blogs_page_description")=="textarea"?(a(),i("div",Ss,[e("div",{innerHTML:s.getPageContent("blogs_page_description")},null,8,Bs)])):s.getPageContentType("blogs_page_description")=="text"?(a(),i("div",Ts,[e("p",null,r(s.getPageContent("blogs_page_description")??"-"),1)])):(a(),i("div",Vs,As)),l(u,{breadcrums:s.breadcrums},null,8,["breadcrums"])])])])]),e("div",Ms,[e("div",Us,[e("div",Ds,[e("div",Hs,[e("div",Fs,[l(o,{onGetPosts:s.onSearch,is_redirect:!1},null,8,["onGetPosts"])])]),e("div",Es,[e("div",js,[s.fetching?(a(),i("div",Gs,[e("div",Rs,[e("div",zs,[l(p)]),e("div",qs,[l(p)]),e("div",Is,[l(p)]),e("div",Js,[l(p)])])])):g("",!0),s.fetching?g("",!0):(a(),i("div",Ks,[s.posts.data.length>0?(a(),i("div",Os,[(a(!0),i(m,null,_(s.posts.data,f=>(a(),b(B,{add_col:!1,key:f.id,post:f},null,8,["post"]))),128))])):(a(),i("div",Qs,[e("div",Ws,[l(T)])])),s.posts.meta.last_page!=this.filter.page?(a(),i("div",Xs,[e("div",Ys,[e("button",{onClick:t[0]||(t[0]=f=>s.loadMore()),class:"btn btn-primary position-relative",disabled:s.loading_more},[e("span",{class:H([{loader:s.loading_more},"position-absolute"])},null,2),w(" "+r(s.__("load more")),1)],8,Zs)])])):g("",!0)]))])])])])])]),_:1})}const me=P(ks,[["render",xs]]);export{me as default};
