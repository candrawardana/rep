import{_ as B}from"./PaginationMixin-11bee913.js";import{A as N,N as M}from"./AppLayout-02188963.js";import{P as U}from"./PageHeader-990117fa.js";import{d as k,L as D,a as b,_ as C,o as a,c as i,b as s,w as c,g as p,t as r,F as h,r as m,v as y,h as f,f as v,i as A,l,m as $,e as d,k as H}from"./app-5a739dd9.js";import{V as F}from"./ValidationErrors-bf47aed9.js";import{S as E}from"./SpinnerLoader-b538aed9.js";import{A as j}from"./ArchiveCard-8dfc372f.js";import{R as G}from"./RecordNotFound-d1886f2e.js";import{B as R}from"./Breadcrums-4d6b2de8.js";import{C as z}from"./CardSkeleton-160dac99.js";import"./course-aea85fdd.js";const q=k({components:{ValidationErrors:F,SpinnerLoader:E,Link:D},props:{is_redirect:{type:Boolean,default:!0},home:{type:Boolean,default:!1}},created(){this.getArchiveCategories(),this.getTags(),this.$emit("getArchives",this.form)},data(){return{form:{archive_category:route().params.archive_category??"",search:route().params.search??"",tag:route().params.tag??""},isLoading:!1,tags:[],archive_categories:[]}},methods:{getArchiveCategories(){b.get(this.route("getApiArchiveCategories")).then(e=>{this.archive_categories=e.data.data})},getTags(){b.get(this.route("getApiTags")).then(e=>{this.tags=e.data.data})},submit(){this.isLoading=!0,new Promise((o,n)=>{setTimeout(()=>{this.$inertia.replace(this.route("archives.listing"),{data:this.form,replace:!0,preserveScroll:!0}),this.$emit("getArchives",this.form),o()},1e3)}).then(o=>{}).catch(o=>{}).finally(()=>{this.isLoading=!1})}}}),I={key:0},J={class:"row"},K={class:"col-md-4"},O={value:"",selected:""},Q=["value"],W={class:"col-md-4"},X=["placeholder"],Y={class:"col-md-4"},Z={class:"d-flex"},x={value:"",selected:""},ee=["value"],se=["href"],te=s("i",{class:"bi bi-search"},null,-1),oe=[te],ae={key:1,class:"section pt-4 pb-5"},ie={class:"container"},re={class:"row pt-2"},ne={class:"col-12"},de={class:"col-12"},le={class:"row flex-column"},ce={class:"col-md-4 w-100 mb-4"},he={value:"",selected:""},me=["value"],_e={class:"col-md-4 w-100 mb-4"},pe=["placeholder"],ve={class:"col-md-4 w-100 mb-4"},ue={value:"",selected:""},ge=["value"],fe={class:"d-grid"},be=["href","disabled"];function ye(e,o,n,w,L,S){const u=l("SpinnerLoader");return e.home?(a(),i("div",I,[s("div",J,[s("div",K,[c(s("select",{"onUpdate:modelValue":o[0]||(o[0]=t=>e.form.archive_category=t),class:"form-select border-0 py-3","aria-label":"Select Category"},[s("option",O,r(e.__("select"))+" "+r(e.__("category")),1),(a(!0),i(h,null,m(e.archive_categories,t=>(a(),i("option",{key:t.id,value:t.slug},r(t.name),9,Q))),128))],512),[[p,e.form.archive_category]])]),s("div",W,[c(s("input",{type:"text",class:"form-control border-0 py-3","onUpdate:modelValue":o[1]||(o[1]=t=>e.form.search=t),id:"findArchiveHome",placeholder:e.__("search")},null,8,X),[[y,e.form.search]])]),s("div",Y,[s("div",Z,[c(s("select",{"onUpdate:modelValue":o[2]||(o[2]=t=>e.form.tag=t),class:"form-select border-0 py-3","aria-label":"Select Tag"},[s("option",x,r(e.__("select"))+" "+r(e.__("tag")),1),(a(!0),i(h,null,m(e.tags,t=>(a(),i("option",{key:t.id,value:t.slug},r(t.name),9,ee))),128))],512),[[p,e.form.tag]]),s("button",{href:e.route("archives.listing"),onClick:o[3]||(o[3]=(...t)=>e.submit&&e.submit(...t)),class:"btn btn-primary ms-3",type:"submit"},oe,8,se)])])])])):(a(),i("div",ae,[s("div",ie,[s("div",re,[s("div",ne,[s("h2",null,r(e.__("find"))+" "+r(e.__n("archive")),1)]),s("div",de,[s("div",le,[s("div",ce,[c(s("select",{"onUpdate:modelValue":o[4]||(o[4]=t=>e.form.archive_category=t),class:"form-select","aria-label":"Select Category"},[s("option",he,r(e.__("select"))+" "+r(e.__("category")),1),(a(!0),i(h,null,m(e.archive_categories,t=>(a(),i("option",{key:t.id,value:t.slug},r(t.name),9,me))),128))],512),[[p,e.form.archive_category]])]),s("div",_e,[c(s("input",{type:"text","onUpdate:modelValue":o[5]||(o[5]=t=>e.form.search=t),class:"form-control",id:"findArchiveListing",placeholder:e.__("search")},null,8,pe),[[y,e.form.search]])]),s("div",ve,[c(s("select",{"onUpdate:modelValue":o[6]||(o[6]=t=>e.form.tag=t),class:"form-select","aria-label":"Select Tag"},[s("option",ue,r(e.__("select"))+" "+r(e.__("tag")),1),(a(!0),i(h,null,m(e.tags,t=>(a(),i("option",{key:t.id,value:t.slug},r(t.name),9,ge))),128))],512),[[p,e.form.tag]])]),s("div",fe,[s("button",{href:e.route("archives.listing"),onClick:o[7]||(o[7]=(...t)=>e.submit&&e.submit(...t)),class:"btn btn-primary",type:"submit",disabled:e.isLoading},[e.isLoading?(a(),f(u,{key:0})):v("",!0),A(" "+r(e.__("Search")),1)],8,be)])])])])])]))}const $e=C(q,[["render",ye]]),ke=k({mixins:[B],components:{AppLayout:N,Navbar:M,PageHeader:U,ArchiveCard:j,FindArchiveBar:$e,RecordNotFound:G,Breadcrums:R,CardSkeleton:z},created(){},data(){return{archives:{},breadcrums:[{id:1,name:"Home",link:"/"},{id:2,name:"Courses",link:""}]}},methods:{async getPaginatedData(e=!1){await this.getArchives(e)},getArchives(e){axios.post(this.route("getApiArchives"),this.filter).then(o=>{const n=o.data.data;e?this.archives.data=this.archives.data.concat(n.data):this.archives.data=n.data,this.archives.links=n.links,this.archives.meta=n.meta,this.fetching=!1})}}}),Ce={class:"py-5 border-bottom border-dark"},Ae={class:"container"},we={class:"row"},Le={class:"col-12"},Se={key:0},Te=["innerHTML"],Ve={key:1},Pe={key:2},Be=s("h2",{class:"fs-2 text-center"},[s("span",{class:"fw-normal"},"Explore | "),s("span",{class:"fw-bold"},"All Courses")],-1),Ne=[Be],Me={class:"section py-0"},Ue={class:"container"},De={class:"row"},He={class:"col-md-3"},Fe={class:"search-side-bar"},Ee={class:"col-md-9 border-start border-dark"},je={class:"row mx-0 my-4"},Ge={key:0,class:"col-12"},Re={class:"row media-skeleton-cards"},ze={class:"col-md-6 mb-4"},qe={class:"col-md-6 mb-4"},Ie={class:"col-md-6 mb-4"},Je={class:"col-md-6 mb-4"},Ke={key:1,class:"col-12"},Oe={key:0,class:"row"},Qe={key:1,class:"row"},We={class:"col-12 text-center mb-3"},Xe={key:2,class:"row my-4"},Ye={class:"col-md-12 d-flex align-items-center justify-content-center"},Ze=["disabled"];function xe(e,o,n,w,L,S){const u=l("breadcrums"),t=l("find-archive-bar"),_=l("card-skeleton"),T=l("archive-card"),V=l("record-not-found"),P=l("app-layout");return a(),f(P,{title:"My Profile"},{header:$(()=>[]),default:$(()=>[s("div",Ce,[s("div",Ae,[s("div",we,[s("div",Le,[e.getPageContentType("archives_page_description")=="textarea"?(a(),i("div",Se,[s("div",{innerHTML:e.getPageContent("archives_page_description")},null,8,Te)])):e.getPageContentType("archives_page_description")=="text"?(a(),i("div",Ve,[s("p",null,r(e.getPageContent("archives_page_description")??"-"),1)])):(a(),i("div",Pe,Ne)),d(u,{breadcrums:e.breadcrums},null,8,["breadcrums"])])])])]),s("div",Me,[s("div",Ue,[s("div",De,[s("div",He,[s("div",Fe,[d(t,{onGetArchives:e.onSearch,is_redirect:!1},null,8,["onGetArchives"])])]),s("div",Ee,[s("div",je,[e.fetching?(a(),i("div",Ge,[s("div",Re,[s("div",ze,[d(_)]),s("div",qe,[d(_)]),s("div",Ie,[d(_)]),s("div",Je,[d(_)])])])):v("",!0),e.fetching?v("",!0):(a(),i("div",Ke,[e.archives.data.length>0?(a(),i("div",Oe,[(a(!0),i(h,null,m(e.archives.data,g=>(a(),f(T,{add_col:!1,key:g.id,archive:g},null,8,["archive"]))),128))])):(a(),i("div",Qe,[s("div",We,[d(V)])])),e.archives.meta.last_page!=this.filter.page?(a(),i("div",Xe,[s("div",Ye,[s("button",{onClick:o[0]||(o[0]=g=>e.loadMore()),class:"btn btn-primary position-relative",disabled:e.loading_more},[s("span",{class:H([{loader:e.loading_more},"position-absolute"])},null,2),A(" "+r(e.__("load more")),1)],8,Ze)])])):v("",!0)]))])])])])])]),_:1})}const hs=C(ke,[["render",xe]]);export{hs as default};
