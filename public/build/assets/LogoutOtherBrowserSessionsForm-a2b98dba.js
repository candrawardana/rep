import{_ as g,d as v,o as r,h as y,m as n,l,i,e as d,c as a,F as k,r as b,b as s,t as c,f as S,w as u,v as B,k as m,E as M,x as L}from"./app-5a739dd9.js";import{A as C}from"./ActionMessage-643c7cc0.js";import{A as O,D as $}from"./DialogModal-48696bc6.js";import{B as I}from"./Button-835ef4ee.js";import{I as V}from"./Input-8812850b.js";import{I as D}from"./InputError-8e109f03.js";import{S as A}from"./SecondaryButton-ae55756a.js";import"./Modal-94d7f363.js";const E=v({props:["sessions"],components:{ActionMessage:C,ActionSection:O,Button:I,DialogModal:$,Input:V,InputError:D,SecondaryButton:A},data(){return{form:this.$inertia.form({password:""}),modal:null}},methods:{confirmLogout(){this.form.password="";let o=document.querySelector("#confirmingLogoutModal");this.modal=new bootstrap.Modal(o),this.modal.show(),setTimeout(()=>this.$refs.password.focus(),250)},logoutOtherBrowserSessions(){this.form.delete(route("other-browser-sessions.destroy"),{preserveScroll:!0,onSuccess:()=>this.closeModal(),onError:()=>this.$refs.password.focus(),onFinish:()=>this.form.reset()})},closeModal(){this.modal.hide(),this.form.reset()}}}),F=s("div",null," If necessary, you may log out of all of your other browser sessions across all of your devices. Some of your recent sessions are listed below; however, this list may not be exhaustive. If you feel your account has been compromised, you should also update your password. ",-1),N={key:0,class:"mt-3"},T={class:"d-flex"},x={key:0,fill:"none",width:"32","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24",stroke:"currentColor",class:"text-muted"},z=s("path",{d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"},null,-1),U=[z],j={key:1,xmlns:"http://www.w3.org/2000/svg",width:"32",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",fill:"none","stroke-linecap":"round","stroke-linejoin":"round",class:"text-muted"},H=s("path",{d:"M0 0h24v24H0z",stroke:"none"},null,-1),K=s("rect",{x:"7",y:"4",width:"10",height:"16",rx:"1"},null,-1),P=s("path",{d:"M11 5h2M12 17v.01"},null,-1),q=[H,K,P],G={class:"ms-2"},J={class:"small font-weight-lighter text-muted"},Q={key:0,class:"text-success font-weight-bold"},R={key:1},W={class:"d-flex mt-3"},X={class:"form-group mt-3 w-md-75"},Y=["disabled"],Z={class:"spinner-border spinner-border-sm",role:"status"},oo=s("span",{class:"visually-hidden"},"Loading...",-1),so=[oo];function eo(o,t,to,ro,no,io){const h=l("action-message"),p=l("input-error"),f=l("secondary-button"),w=l("dialog-modal"),_=l("action-section");return r(),y(_,null,{title:n(()=>[i(" Browser Sessions ")]),description:n(()=>[i(" Manage and log out your active sessions on other browsers and devices. ")]),content:n(()=>[d(h,{on:o.form.recentlySuccessful},{default:n(()=>[i(" Done. ")]),_:1},8,["on"]),F,o.sessions.length>0?(r(),a("div",N,[(r(!0),a(k,null,b(o.sessions,e=>(r(),a("div",T,[s("div",null,[e.agent.is_desktop?(r(),a("svg",x,U)):(r(),a("svg",j,q))]),s("div",G,[s("div",null,c(e.agent.platform?e.agent.platform:"Unknown")+" - "+c(e.agent.browser?e.agent.browser:"Unknown"),1),s("div",null,[s("div",J,[i(c(e.ip_address)+", ",1),e.is_current_device?(r(),a("span",Q,"This device")):(r(),a("span",R,"Last active "+c(e.last_active),1))])])])]))),256))])):S("",!0),s("div",W,[s("button",{onClick:t[0]||(t[0]=(...e)=>o.confirmLogout&&o.confirmLogout(...e))},"Log out Other Browser Sessions")]),d(w,{id:"confirmingLogoutModal"},{title:n(()=>[i(" Log out Other Browser Sessions ")]),content:n(()=>[i(" Please enter your password to confirm you would like to log out of your other browser sessions across all of your devices. "),s("div",X,[u(s("input",{type:"password",placeholder:"Password",ref:"password",class:m({"is-invalid":o.form.errors.password}),"onUpdate:modelValue":t[1]||(t[1]=e=>o.form.password=e),onKeyup:t[2]||(t[2]=M((...e)=>o.logoutOtherBrowserSessions&&o.logoutOtherBrowserSessions(...e),["enter"]))},null,34),[[B,o.form.password]]),d(p,{message:o.form.errors.password},null,8,["message"])])]),footer:n(()=>[d(f,{"data-dismiss":"modal",onClick:o.closeModal},{default:n(()=>[i(" Cancel ")]),_:1},8,["onClick"]),s("button",{class:m(["ms-2",{"text-white-50":o.form.processing}]),onClick:t[3]||(t[3]=(...e)=>o.logoutOtherBrowserSessions&&o.logoutOtherBrowserSessions(...e)),disabled:o.form.processing},[u(s("div",Z,so,512),[[L,o.form.processing]]),i(" Log out Other Browser Sessions ")],10,Y)]),_:1})]),_:1})}const wo=g(E,[["render",eo]]);export{wo as default};
