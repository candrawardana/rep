import{d as z,L as F,a as P,_ as O,o,c as i,b as t,j,w as k,v as S,h,f as m,i as V,t as p,F as C,r as $,k as A,u as B,e as n,l,m as c}from"./app-5a739dd9.js";import{V as M}from"./ValidationErrors-bf47aed9.js";import{s as N,V as T}from"./VueGoogleAutocomplete-58f0ebf9.js";import{S as U}from"./SpinnerLoader-b538aed9.js";/* empty css                                                         */import{L as I,S as E}from"./LawyerCard-4dd9cacc.js";import{C as R}from"./CardSkeleton-160dac99.js";import{C as G,S as H,P as q,N as J}from"./carousel.es-51616c9f.js";import{R as K}from"./RecordNotFound-d1886f2e.js";const Q=z({components:{ValidationErrors:M,Link:F,SpinnerLoader:U,Multiselect:N,VueGoogleAutocomplete:T},props:{is_redirect:{type:Boolean,default:!0},home:{type:Boolean,default:!1},is_lawyer_page:{type:Boolean,default:!1}},created(){this.is_lawyer_page&&(this.getLawyerMainCategories(),this.getCountries()),this.$page.props.main_category_slug&&(this.lawyer_category_selected=this.$page.props.main_category_slug),this.$page.props.lawyer_category&&this.form.lawyer_category.push(this.$page.props.lawyer_category),this.$emit("getLawyers",this.form),this.formDistanceOptions()},data(){return{form:{lawyer_category:this.$page.props.category?this.$page.props.category?[this.$page.props.category]:[]:[],search:this.$page.props.data?this.$page.props.data.search:"",country:route().params.country??"",location:route().params.search_type=="location"&&route().params.location?route().params.location:"",latitude:route().params.latitude??"",longitude:route().params.longitude??"",search_type:route().params.search_type??"country",distance:route().params.search_type=="distance"&&route().params.distance?route().params.distance:"",zip_code:route().params.search_type=="zip_code"&&route().params.zip_code?route().params.zip_code:"",main_category:this.$page.props.main_category?this.$page.props.main_category.slug:"all"},isLoading:!1,isClearLoading:!1,countries:[],lawyer_categories:[],lawyer_main_categories:[],distanceOptions:[],lawyer_category_selected:this.$page.props.lawyer_category??""}},async mounted(){await this.locatorButtonPressed(),route().params.search&&(this.$refs.address.update(route().params.search??""),this.form.location||(this.$refs.address.focus(),this.form.latitude=this.location_data.lat??"",this.form.longitude=this.location_data.lng??"")),this.$emit("getlawyers",this.form),this.formDistanceOptions()},methods:{getLawyerMainCategories(){P.get(this.route("getApiLawyerMainCategories")).then(e=>{this.lawyer_main_categories=e.data.data;let r={id:"all",name:"Select All",categories:[{id:"all",name:"All",slug:"all",is_featured:1,is_active:1,image:null,icon:null,description:null,created_at:null,updated_at:null}],slug:"all",is_featured:1,is_active:1,image:null,icon:null,description:null,created_at:null,updated_at:null};this.lawyer_main_categories.unshift(r),this.form.lawyer_category[0]=="all"&&this.checkIsAllSelected("all")})},getCountries(){P.get(this.route("getApiCountries")).then(e=>{this.countries=e.data.data})},submit(){this.isLoading=!0,new Promise((s,r)=>{setTimeout(()=>{var u={data:this.form,replace:!0,preserveScroll:!0};const L=this.$inertia.post(this.route("lawyers.listing"),u);this.$emit("getLawyers",this.form),s(L)},1e3)}).then(s=>{}).catch(s=>{}).finally(()=>{this.isLoading=!1})},checkIsAllSelected(e){if(e=="all")if(event&&event.target&&event.target.checked==!1)this.form.lawyer_category=[];else{this.form.lawyer_category=[];for(let r=0;r<this.lawyer_main_categories.length;r++)for(let u=0;u<this.lawyer_main_categories[r].categories.length;u++)this.form.lawyer_category.push(this.lawyer_main_categories[r].categories[u].slug)}else{var s=this.form.lawyer_category.findIndex(r=>r==="all");s>=0&&(this.form.lawyer_category.splice(s,1),this.$page.props.selected_category=this.form.lawyer_category)}},async formDistanceOptions(){var e=[{value:"",name:this.__("select distance")}];for(let r=1;r<1e3;r++){var s={value:r,name:r+" km"};e.push(s)}this.distanceOptions=e},lawyerCategoryChange(e){this.checkIsAllSelected(e);var s=this.lawyer_main_categories.find(r=>r.categories.find(u=>u.slug==e));s?this.form.main_category=s.slug:this.form.main_category="all"},searchTypeChanged(){this.form.distance="",this.form.location="",this.form.country="",this.form.zip_code=""},updateLocation(e){this.form.location=e.newVal},async getCurrentLocation(){if(this.form.latitude=this.location_data.lat??"",this.form.longitude=this.location_data.lng??"",this.form.latitude&&this.form.longitude){var e=await this.getStreetAddressFrom(this.form.latitude,this.form.longitude);this.$refs.address.update(e)}},getAddressData:function(e,s,r){this.form.latitude=e.latitude,this.form.longitude=e.longitude,this.form.location=e.route},clearFilters(){this.isClearLoading=!0,new Promise((s,r)=>{setTimeout(()=>{this.form.latitude="",this.form.longitude="",this.form.location="",this.form.distance="",this.form.location="",this.form.country="",this.form.zip_code="",this.form.lawyer_category="",this.form.search="",this.form.search_type="",this.$inertia.replace(this.route("lawyers.listing")),this.$emit("getLawyers",this.form),s()},1e3)}).then(s=>{}).catch(s=>{}).finally(()=>{this.isClearLoading=!1})}}}),W={key:0},X={class:"row"},Y={class:"col-12"},Z={class:"d-flex align-items-center w-100"},x={class:"input-group bg-white px-2 py-2 custom-search-panel"},ee={class:"d-flex align-items-center"},te=["placeholder"],se={class:"d-flex align-items-center"},ae=["href","disabled"],oe={key:1,class:"section pt-4 pb-5"},re={class:"container"},ie={class:"row pt-2"},le={class:"col-12 p-0"},ne={class:"card rounded-0 mb-4 py-3",style:{"background-color":"#f8f8f8"}},de={class:"px-3"},ce={class:"mb-3"},pe={class:"cat-card mb-3",style:{"max-height":"400px",overflow:"auto"}},ue={class:"px-3"},he={class:"mb-3"},me={class:"accordion bg-transparent",id:"accordionExample"},ge={class:"accordion-header"},fe=["data-bs-target","aria-expanded"],_e=["id"],ye={class:"accordion-body"},we=["onChange","true-value","value","id"],be=["for"],ve={class:"card-body p-0"},ke={class:"px-3"},Ce={class:"w-100 mb-3"},$e=["placeholder"],Le={class:"mb-3 mb-md-0 d-flex flex-column align-items-center flex-md-row"},Se={key:0,class:"w-100 mb-3 mb-lg-0"},Ve=["placeholder"],Pe={key:1,class:"w-100 mb-3 mb-lg-0"},Ae={key:2,class:"w-100 mb-3 mb-lg-0"},ze={class:"input-group-from position-relative"},Fe=t("i",{class:"bi bi-geo-alt-fill"},null,-1),Oe=[Fe],De={key:3,class:"w-100 mb-3 mb-lg-0"},je=t("div",null,[t("hr")],-1),Be={class:"px-3"},Me={class:"d-grid"},Ne=["href","disabled"],Te=["disabled"];function Ue(e,s,r,u,L,D){const f=l("SpinnerLoader"),g=l("Multiselect"),_=l("vue-google-autocomplete");return e.home?(o(),i("div",W,[t("div",X,[t("div",Y,[t("div",Z,[t("form",{onSubmit:s[1]||(s[1]=j((...a)=>e.submit&&e.submit(...a),["prevent"]))},[t("div",x,[t("div",ee,[k(t("input",{type:"text",class:"border-0 py-2 ms-3 shadow-none search-field","onUpdate:modelValue":s[0]||(s[0]=a=>e.form.search=a),id:"findLawyerHome",placeholder:e.getPageContent("general_search_btn_text")??e.__("search")},null,8,te),[[S,e.form.search]])]),t("span",se,[t("button",{href:e.route("lawyers.listing"),disabled:e.isLoading,class:"btn btn-primary ms-3",type:"submit"},[e.isLoading?(o(),h(f,{key:0})):m("",!0),V(" "+p(e.getPageContent("general_search_btn_text")??e.__("search")),1)],8,ae)])])],32)])])])])):(o(),i("div",oe,[t("div",re,[t("div",ie,[t("div",le,[t("div",ne,[t("div",de,[t("h5",ce,p(e.__("find"))+" "+p(e.__n("lawyer")),1)]),t("div",pe,[t("div",ue,[t("h5",he,p(e.__("select"))+" "+p(e.__n("category")),1),t("div",me,[(o(!0),i(C,null,$(e.lawyer_main_categories,(a,y)=>(o(),i("div",{key:y,class:"accordion-item bg-transparent"},[t("h2",ge,[t("button",{class:A(["accordion-button shadow-none py-2 px-1 fw-bold rounded-0 bg-transparent border-bottom",e.lawyer_category_selected==a.slug?"":"collapsed"]),type:"button","data-bs-toggle":"collapse","data-bs-target":`#collapseOne${a.slug}`,"aria-expanded":!(y>0),"aria-controls":"collapseOne"},p(a.name??""),11,fe)]),t("div",{id:`collapseOne${a.slug}`,class:A(["accordion-collapse collapse",e.lawyer_category_selected==a.slug?"show":""])},[t("div",ye,[(o(!0),i(C,null,$(a.categories,(d,w)=>(o(),i("div",{class:"form-check",key:w},[k((o(),i("input",{key:w,onChange:b=>e.lawyerCategoryChange(d.slug),"onUpdate:modelValue":s[2]||(s[2]=b=>e.form.lawyer_category=b),class:"form-check-input",type:"checkbox","true-value":d.slug,"false-value":"",value:d.slug,id:d.slug},null,40,we)),[[B,e.form.lawyer_category]]),t("label",{class:"form-check-label",for:d.slug},p(d.name??""),9,be)]))),128))])],10,_e)]))),128))])])]),t("div",ve,[t("div",ke,[t("div",Ce,[k(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=a=>e.form.search=a),class:"form-control",id:"findLawyerListing",placeholder:e.__("search")},null,8,$e),[[S,e.form.search]])]),t("div",null,[n(g,{modelValue:e.form.search_type,"onUpdate:modelValue":s[4]||(s[4]=a=>e.form.search_type=a),onChange:e.searchTypeChanged,"close-on-select":!0,searchable:!0,options:[{value:"country",name:`${e.__("search by country")}`},{value:"distance",name:`${e.__("distance")}`},{value:"location",name:`${e.__("location")}`},{value:"zip_code",name:`${e.__("zip_code")}`}],valueProp:"value",label:"name",placeholder:e.__("select search type"),class:"form-control p-0 mb-3"},null,8,["modelValue","onChange","options","placeholder"])]),t("div",Le,[e.form.search_type=="zip_code"?(o(),i("div",Se,[k(t("input",{type:"text","onUpdate:modelValue":s[5]||(s[5]=a=>e.form.zip_code=a),class:"form-control p-0",id:"findlawyerListing",placeholder:e.__("search zip code")},null,8,Ve),[[S,e.form.zip_code]])])):m("",!0),e.form.search_type=="distance"?(o(),i("div",Pe,[n(g,{modelValue:e.form.distance,"onUpdate:modelValue":s[6]||(s[6]=a=>e.form.distance=a),"close-on-select":!0,searchable:!0,options:e.distanceOptions,valueProp:"value",label:"name",placeholder:e.__("select distance"),class:"form-control"},null,8,["modelValue","options","placeholder"])])):m("",!0),e.form.search_type=="location"?(o(),i("div",Ae,[t("div",ze,[n(_,{id:"map",ref:"address","enable-geolocation":"",classname:"form-control p-0 py-3",placeholder:e.__("search location"),onInputChange:e.updateLocation,onPlacechanged:e.getAddressData},null,8,["placeholder","onInputChange","onPlacechanged"]),t("button",{class:"btn btn-primary position-absolute",style:{right:"10px",top:"8px"},onClick:s[7]||(s[7]=a=>e.getCurrentLocation())},Oe)])])):m("",!0),e.form.search_type=="country"?(o(),i("div",De,[n(g,{modelValue:e.form.country,"onUpdate:modelValue":s[8]||(s[8]=a=>e.form.country=a),"close-on-select":!1,searchable:!0,options:this.countries,valueProp:"id",label:"name",placeholder:e.__("select country"),class:"form-control p-0"},null,8,["modelValue","options","placeholder"])])):m("",!0)])]),je,t("div",Be,[t("div",Me,[t("button",{href:e.route("lawyers.listing"),onClick:s[9]||(s[9]=(...a)=>e.submit&&e.submit(...a)),class:"btn btn-primary mb-3",type:"submit",disabled:e.isLoading},[e.isLoading?(o(),h(f,{key:0})):m("",!0),V(" "+p(e.__("Search")),1)],8,Ne),t("button",{onClick:s[10]||(s[10]=(...a)=>e.clearFilters&&e.clearFilters(...a)),class:"btn btn-secondary",disabled:e.isClearLoading},[e.isClearLoading?(o(),h(f,{key:0})):m("",!0),V(" "+p(e.__("Clear")),1)],8,Te)])])])])])])])]))}const tt=O(Q,[["render",Ue]]),Ie=z({components:{LawyerCard:I,Link:F,Carousel:G,Slide:H,Pagination:q,Navigation:J,Section:E,CardSkeleton:R,RecordNotFound:K},created(){this.featured_lawyers.length==0&&this.getFeaturedLawyers()},data(){return{form:this.$inertia.form({}),featured_lawyers:[],key:1,fetching:!0,settings:{itemsToShow:1,snapAlign:"start",autoplay:!1,wrapAround:"true"},breakpoints:{700:{itemsToShow:1,snapAlign:"start"},1024:{itemsToShow:4,snapAlign:"start"}}}},methods:{getFeaturedLawyers(){P.get(this.route("getApiFeaturedLawyers")).then(e=>{this.fetching=!1,this.featured_lawyers=e.data.data})},submit(){}},props:["findLawyers","refresh"],watch:{refresh(e,s){this.key++}}}),Ee={class:"row mt-5 justify-content-center"},Re={class:"col-md-3 d-flex justify-content-center"},Ge=t("span",{class:"circle","aria-hidden":"true"},[t("span",{class:"icon arrow"})],-1),He={class:"button-text"};function qe(e,s,r,u,L,D){const f=l("lawyer-card"),g=l("Slide"),_=l("Navigation"),a=l("Carousel"),y=l("Link"),d=l("Section"),w=l("record-not-found"),b=l("card-skeleton");return!e.fetching&&e.featured_lawyers.length>0?(o(),h(d,{key:0},{default:c(()=>[(o(),h(a,{key:e.key,settings:e.settings,breakpoints:e.breakpoints},{addons:c(()=>[n(_)]),default:c(()=>[(o(!0),i(C,null,$(e.featured_lawyers,v=>(o(),h(g,{key:v.id},{default:c(()=>[n(f,{lawyer:v},null,8,["lawyer"])]),_:2},1024))),128))]),_:1},8,["settings","breakpoints"])),t("div",Ee,[t("div",Re,[n(y,{href:e.route("lawyers.listing"),class:"learn-more btn position-relative",style:{width:"14rem"}},{default:c(()=>[Ge,t("span",He,p(e.getPageContent("general_find_lawyer_btn_text")??e.__("find lawyer")),1)]),_:1},8,["href"])])])]),_:1})):!e.fetching&&e.featured_lawyers.length==0?(o(),h(d,{key:1},{default:c(()=>[n(w)]),_:1})):(o(),h(d,{key:2},{default:c(()=>[(o(),h(a,{key:e.key,settings:e.settings,breakpoints:e.breakpoints},{addons:c(()=>[n(_)]),default:c(()=>[(o(),i(C,null,$(4,v=>n(g,{key:v},{default:c(()=>[n(b)]),_:2},1024)),64))]),_:1},8,["settings","breakpoints"]))]),_:1}))}const st=O(Ie,[["render",qe]]);export{st as F,tt as a};
